<div class="popup-confirm-content">
  <div class="popup-confirm-body">
    @if (this.type === 'progress') {
    @if (this.progress === 100) {
    <p class="popup-confirm-message" style="text-align: center;">{{ message }}</p>
    <div class="previewUrl" *ngIf="imagePreview">
      <img src="{{imagePreview}}" alt="Preview">
    </div>

    @if(videoPreview?.url) {
      <div class="video-player-container">
            <div class="video-area">
            <div class="play-button-overlay">
              <svg xmlns="http://www.w3.org/2000/svg" fill="#fff" width="2rem" height="2rem" viewBox="0 0 35 35" data-name="Layer 2" id="a57b1084-392d-4dd3-9105-7399e5d250c4"><path d="M7.486,33.076a3.164,3.164,0,0,1-3.164-3.165V5.089A3.164,3.164,0,0,1,9.249,2.461L27.754,14.872a3.165,3.165,0,0,1,0,5.256L9.249,32.539h0A3.156,3.156,0,0,1,7.486,33.076ZM8.552,31.5h0ZM7.491,4.422a.7.7,0,0,0-.317.08.652.652,0,0,0-.352.587V29.911a.664.664,0,0,0,1.034.552L26.362,18.052a.66.66,0,0,0,.294-.553.646.646,0,0,0-.294-.55L7.856,4.537A.649.649,0,0,0,7.491,4.422Z"/></svg>
                <div class="play-indicator"></div>
            </div>
    
            <img src="{{videoPreview?.url}}" alt="Video frame" class="video-placeholder-image">
    
        </div>
    
        <div class="controls-bar">
            <button class="play-pause-btn" aria-label="Play">
                <i class="fas fa-play"></i>
            </button>
            <span class="time-display">0:00 / {{getDuration()}}</span>
            <div class="progress-bar-container">
                <div class="progress-bar" style="width: 0%;">
                    <div class="progress-handle"></div>
                </div>
            </div>
        </div>
    
    
    </div>
    }
    }@else {
    <p class="popup-confirm-message" style="text-align: center;">{{ pendingMessage }}</p>
    }
    } @else {
    <p class="popup-confirm-message">{{ message }}</p>
    }
    <!-- Progress bar for progress type -->
    <div *ngIf="type === 'progress'" class="progress-containers" style="margin: 0 auto;">
      <app-progress [percent]="progress"
        strokeColor="linear-gradient(to right, rgb(241, 62, 242), rgb(201, 203, 255), rgb(48, 213, 229), rgb(52, 75, 255))"></app-progress>
    </div>
    <!-- Custom content for different action types -->
    <div *ngIf="action === 'export'" class="export-info">
      <div class="export-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
      </div>
      <p>Your file will be exported in a standard format</p>
    </div>
  </div>
  <div class="popup-confirm-footer d-flex align-items-center justify-content-center">
    <!-- <button type="button" class="btn-cancel" (click)="onCancel()">
      {{ cancelText || 'Cancel' }}
    </button> -->
    <button type="button" class="btn-confirm" (click)="onConfirm()" [disabled]="isProcessing && progress < 100">
      {{ confirmText || 'Confirm' }}
    </button>
  </div>
</div>